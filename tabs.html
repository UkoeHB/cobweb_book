<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Tabs - cobweb book</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="getting_starting.html"><strong aria-hidden="true">2.</strong> Getting started</a></li><li class="chapter-item expanded affix "><li class="part-title">Cob File Format</li><li class="chapter-item expanded "><a href="cob_intro.html"><strong aria-hidden="true">3.</strong> Cob files</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="cob_fields.html"><strong aria-hidden="true">3.1.</strong> Loadable fields</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Rust editing</li><li class="chapter-item expanded "><a href="rust_cobweb.html"><strong aria-hidden="true">4.</strong> Rust runtime modifications</a></li><li class="chapter-item expanded "><a href="cob_marker.html"><strong aria-hidden="true">5.</strong> Custom marker component</a></li><li class="chapter-item expanded affix "><li class="part-title">Final tutorial notes</li><li class="chapter-item expanded "><a href="cob_organization.html"><strong aria-hidden="true">6.</strong> Cob file organization</a></li><li class="chapter-item expanded "><a href="quick_notes.html"><strong aria-hidden="true">7.</strong> Quick notes</a></li><li class="chapter-item expanded affix "><li class="part-title">Cookbook section (TODO)</li><li class="chapter-item expanded "><a href="tabs.html" class="active"><strong aria-hidden="true">8.</strong> Tabs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tabs_cleanup.html"><strong aria-hidden="true">8.1.</strong> Cleanup</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Common errors</li><li class="chapter-item expanded "><a href="errors.html"><strong aria-hidden="true">9.</strong> Errors</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">cobweb book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="tabs-wip"><a class="header" href="#tabs-wip">Tabs (WIP)</a></h1>
<h2 id="goals"><a class="header" href="#goals">Goals</a></h2>
<ul>
<li>Create a window with tabs that can be selected from</li>
<li>Learn about radio buttons</li>
<li>Learn about controlRoot and ControlMembers for transferring state</li>
</ul>
<h2 id="method"><a class="header" href="#method">Method</a></h2>
<p>Tabs are pretty much radio buttons, so we will be using these to implement them in cobweb_ui.
We will start with a basic window that should approximate what this book has taught so far.</p>
<h3 id="starting-rust-code"><a class="header" href="#starting-rust-code">Starting rust code.</a></h3>
<p>Hopefully this is familiar from previous chapters.</p>
<pre><code class="language-rs">
use bevy::prelude::*;
use bevy_cobweb_ui::prelude::*;

//-------------------------------------------------------------------------------------------------------------------

fn build_ui(mut c: Commands, mut s: SceneBuilder) {
    c.spawn(Camera2d);
    c.ui_root()
        .spawn_scene((&quot;main.cob&quot;, &quot;main_scene&quot;), &amp;mut s, |scene_handle| {});
}

//-------------------------------------------------------------------------------------------------------------------

fn main() {
    App::new()
        .add_plugins(bevy::DefaultPlugins.set(WindowPlugin {
            primary_window: Some(Window {
                window_theme: Some(bevy::window::WindowTheme::Dark),
                ..default()
            }),
            ..default()
        }))
        .add_plugins(CobwebUiPlugin)
        .load(&quot;main.cob&quot;)
        .add_systems(OnEnter(LoadState::Done), build_ui)
        .run();
}
</code></pre>
<h3 id="starting-cob-file"><a class="header" href="#starting-cob-file">Starting COB file</a></h3>
<p><code>GridNode</code> and <code>AbsoluteGridNode</code> are used to create an orderly scaled layout.</p>
<p><code>FlexNode</code> is used to center the text on some titles.</p>
<p>Note we can do some abstractions to tidy up the code, we will stick to simplicity at the expense of verbosity.
Once we have the functionality sorted we look at some abstractions.</p>
<p>Hopefully this code is also mostly familiar from previous chapters.</p>
<pre><code>#scenes
&quot;main_scene&quot;
    AbsoluteGridNode{left:30% width:40vw min_height:30vh   }
    BackgroundColor(Hsla{ hue:221 saturation:0.5 lightness:0.15 alpha:0.5 })
    &quot;title&quot;
        FlexNode{justify_main:Center}
        &quot;text&quot;
            TextLine{ text: &quot;Tabs education&quot;}
            TextLineColor(Hsla{ hue:60 saturation:0.55 lightness:0.55 alpha:1.0 })

    //Actual tab menu
    &quot;tab_menu&quot;
        GridNode{grid_auto_flow:Column}
        &quot;info&quot;
            FlexNode{justify_main:Center}
            &quot;text&quot;
                TextLine{ text: &quot;Info&quot; }
                TextLineColor(Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 })
            
        &quot;exit&quot;
            FlexNode{justify_main:Center}
            &quot;text&quot;
                TextLine{ text: &quot;Exit button&quot;}
                TextLineColor(Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 })

    //This is what changes based on menu selection
    &quot;tab_content&quot;
        GridNode{ height:25vh }
        BackgroundColor(Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 })

    &quot;footer_content&quot;
            FlexNode{justify_main:Center}
            &quot;text&quot;
                TextLine{ text: &quot;I don't change&quot; }
                TextLineColor(Hsla{hue:0 saturation:0.00 lightness:0.85 alpha:1.0})
        


//tab content that will be spawned at runtime

&quot;info_tab&quot;
    FlexNode{justify_main:Center}
    TextLine{text:&quot;You are in the info tab&quot;}

&quot;exit_tab&quot;
    //Not implemented
    FlexNode{justify_main:Center}
    TextLine{text:&quot;Click me to quit&quot;}
</code></pre>
<h3 id="filling-in-tab_content"><a class="header" href="#filling-in-tab_content">Filling in tab_content</a></h3>
<p>Let's run this and see our ui.</p>
<ul>
<li>Our starting code has an empty lightly coloured square box where our tab content should go.</li>
<li>Two buttons are above the square box these will be our tab menus.</li>
<li>A title and footer they are there to serve as normal constant values regardless of tab.</li>
</ul>
<p>First thing to do now is spawn <code>info_tab</code> when <code>info</code> is clicked.</p>
<pre><code class="language-rs">    //Snip
    c.ui_root()
        .spawn_scene((&quot;main.cob&quot;, &quot;main_scene&quot;), &amp;mut s, |scene_handle| {
            //Get entity to place in our scene
            let tab_content_entity = scene_handle.get(&quot;tab_content&quot;).id();
            scene_handle.edit(&quot;tab_menu::info&quot;, |scene_handle| {
                scene_handle.on_pressed(move |mut c: Commands, mut s: SceneBuilder| {
                    //Use this instead of c.get_entity()
                    c.ui_builder(tab_content_entity)
                        .spawn_scene_simple((&quot;main.cob&quot;, &quot;info_tab&quot;), &amp;mut s);
                });
            });
        });
</code></pre>
<p>Now lets do the same for the exit tab.</p>
<pre><code class="language-rs">        //Snip    
        c.ui_root()
        .spawn_scene((&quot;main.cob&quot;, &quot;main_scene&quot;), &amp;mut s, |scene_handle| {
            //Get entity to place in our scene
            let tab_content_entity = scene_handle.get(&quot;tab_content&quot;).id();
            scene_handle.edit(&quot;tab_menu::info&quot;, |scene_handle| {
                scene_handle.on_pressed(move |mut c: Commands, mut s: SceneBuilder| {
                    //Use this instead of c.get_entity()
                    c.ui_builder(tab_content_entity)
                        .spawn_scene_simple((&quot;main.cob&quot;, &quot;info_tab&quot;), &amp;mut s);
                });
            });
            //handling exit tab
            scene_handle.edit(&quot;tab_menu::exit&quot;, |scene_handle| {
                scene_handle.on_pressed(move |mut c: Commands, mut s: SceneBuilder| {
                    //Use this instead of c.get_entity()
                    c.ui_builder(tab_content_entity)
                        .spawn_scene_simple((&quot;main.cob&quot;, &quot;exit_tab&quot;), &amp;mut s);
                });
            });
        });

</code></pre>
<p>We also need to clear the tab contents upon selecting a new tab.</p>
<pre><code class="language-rs">    c.ui_root()
        .spawn_scene((&quot;main.cob&quot;, &quot;main_scene&quot;), &amp;mut s, |scene_handle| {
            //Get entity to place in our scene
            let tab_content_entity = scene_handle.get(&quot;tab_content&quot;).id();
            scene_handle.edit(&quot;tab_menu::info&quot;, |scene_handle| {
                scene_handle.on_pressed(move |mut c: Commands, mut s: SceneBuilder| {
                    if let Some(mut tab_commands) = c.get_entity(tab_content_entity) {
                        tab_commands.despawn_descendants();
                    };

                    //Use this instead of c.get_entity()
                    c.ui_builder(tab_content_entity)
                        .spawn_scene_simple((&quot;main.cob&quot;, &quot;info_tab&quot;), &amp;mut s);
                });
            });
            //handling exit tab
            scene_handle.edit(&quot;tab_menu::exit&quot;, |scene_handle| {
                scene_handle.on_pressed(move |mut c: Commands, mut s: SceneBuilder| {
                    if let Some(mut tab_commands) = c.get_entity(tab_content_entity) {
                        tab_commands.despawn_descendants();
                    };
                    //Use this instead of c.get_entity()
                    c.ui_builder(tab_content_entity)
                        .spawn_scene_simple((&quot;main.cob&quot;, &quot;exit_tab&quot;), &amp;mut s);
                });
            });
        });
</code></pre>
<p>Ok we got it working but its not really fun or intuitive we still have some problems to solve.</p>
<ul>
<li>The tab selection doesn't communicate which tab is active.</li>
<li>It should default to a tab.</li>
</ul>
<p>We will start with communication</p>
<h3 id="styling-our-tab-headers"><a class="header" href="#styling-our-tab-headers">Styling our tab headers</a></h3>
<h4 id="initial-cob-changes"><a class="header" href="#initial-cob-changes">Initial Cob Changes</a></h4>
<p>The plan is to distinguish between selected and deselected tabs by changing the background colour.</p>
<p>To do this we need to use radio buttons.</p>
<p>Adding this as below.</p>
<pre><code>    &quot;tab_menu&quot;
        GridNode{grid_auto_flow:Column}
        RadioGroup //Stores RadioButton State
        &quot;info&quot;
            RadioButton //New Radio Button Code
            FlexNode{justify_main:Center}
            &quot;text&quot;
                TextLine{ text: &quot;Info&quot; }
                TextLineColor(Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 })
            
        &quot;exit&quot;
            FlexNode{justify_main:Center}
            RadioButton //New Radio Button Code
            &quot;text&quot;
                TextLine{ text: &quot;Exit button&quot; }
                TextLineColor(Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 })

</code></pre>
<p>These changes by itself will not have any noticable impact, we will need to also modify the rust code to allow selection.</p>
<h4 id="rust-changes"><a class="header" href="#rust-changes">Rust changes</a></h4>
<p>We need to put in our programming logic.</p>
<p>as below</p>
<pre><code class="language-rs">fn build_ui(mut c: Commands, mut s: SceneBuilder) {
    c.spawn(Camera2d);
    c.ui_root()
        .spawn_scene((&quot;main.cob&quot;, &quot;main_scene&quot;), &amp;mut s, |scene_handle| {
            //Get entity to place in our scene
            let tab_content_entity = scene_handle.get(&quot;tab_content&quot;).id();
            // Menu that holds radio state
            let tab_menu_entity = scene_handle.get(&quot;tab_menu&quot;).id();
            scene_handle.edit(&quot;tab_menu::info&quot;, |scene_handle| {
                let info_button_entity = scene_handle.id();

                scene_handle.on_pressed(move |mut c: Commands, mut s: SceneBuilder| {
                    if let Some(mut tab_commands) = c.get_entity(tab_content_entity) {
                        tab_commands.despawn_descendants();
                    };

                    //Radio button select
                    c.ui_builder(tab_menu_entity)
                        .react()
                        .entity_event(info_button_entity, Select);
                    //Use this instead of c.get_entity()
                    c.ui_builder(tab_content_entity)
                        .spawn_scene_simple((&quot;main.cob&quot;, &quot;info_tab&quot;), &amp;mut s);
                });
            });
            //handling exit tab
            scene_handle.edit(&quot;tab_menu::exit&quot;, |scene_handle| {
                let exit_button_entity = scene_handle.id();
                scene_handle.on_pressed(move |mut c: Commands, mut s: SceneBuilder| {
                    if let Some(mut tab_commands) = c.get_entity(tab_content_entity) {
                        tab_commands.despawn_descendants();
                    };
                    //Radio button select
                    c.ui_builder(tab_menu_entity)
                        .react()
                        .entity_event(exit_button_entity, Select);
                    //Use this instead of c.get_entity()
                    c.ui_builder(tab_content_entity)
                        .spawn_scene_simple((&quot;main.cob&quot;, &quot;exit_tab&quot;), &amp;mut s);
                });
            });
        });
}

</code></pre>
<p><code>let tab_menu_entity = scene_handle.get(&quot;tab_menu&quot;).id();</code> is to get the entity that holds the RadioGroup.</p>
<p>This will tell the RadioGroup Node that we have selected this button.</p>
<pre><code class="language-rs">c.ui_builder(tab_menu_entity)
    .react()
    .entity_event(info_button_entity, Select);
</code></pre>
<p>We can run this and see nothing has happened!</p>
<p>However now we use pseudo state information in cob.</p>
<h4 id="next-cob-changes"><a class="header" href="#next-cob-changes">Next COB Changes</a></h4>
<p>Lets start with the code to add colours.</p>
<pre><code>    &quot;tab_menu&quot;
        GridNode{grid_auto_flow:Column}
        RadioGroup //Stores RadioButton State
        &quot;info&quot;
            RadioButton //New Radio Button Code
            FlexNode{justify_main:Center}
            //New colour logic
            Multi&lt;Animated&lt;BackgroundColor&gt;&gt;[
                {
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.15 alpha:0.5 }

                }
                {
                    state:[Selected]
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                }
            ]  
            &quot;text&quot;
                TextLine{ text: &quot;Info&quot; }
                TextLineColor(Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 })
            
        &quot;exit&quot;
            FlexNode{justify_main:Center}
            RadioButton //New Radio Button Code
            Multi&lt;Animated&lt;BackgroundColor&gt;&gt;[
                {
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.15 alpha:0.5 }

                }
                {
                    state:[Selected]
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                }
            ]  
            &quot;text&quot;
                TextLine{ text: &quot;Exit button&quot; }
                TextLineColor(Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 })

</code></pre>
<p>Let's explain this code.</p>
<p><code>Animated&lt;BackgroundColor&gt;</code> allows you to define values based on the three css pseudostates <code>idle</code> <code>hover</code> <code>click</code></p>
<p>By encapsulating with <code>Multi</code> we can access states to put in our values.</p>
<pre><code>Multi&lt;Animated&lt;BackgroundColor&gt;&gt;[
    {
        idle:Hsla{ hue:221 saturation:0.5 lightness:0.15 alpha:0.5 }

    }
    {
        state:[Selected]
        idle:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
    }
]  
</code></pre>
<p>Now when our tabs change, we know which tab we have open!</p>
<h3 id="further-styling-and-sharing-state"><a class="header" href="#further-styling-and-sharing-state">Further styling and Sharing state</a></h3>
<p>I have added some more stying without incident.</p>
<pre><code>#scenes
&quot;main_scene&quot;
    AbsoluteGridNode{left:30% width:40vw min_height:30vh   }
    BackgroundColor(Hsla{ hue:221 saturation:0.5 lightness:0.15 alpha:0.5 })
    &quot;title&quot;
        FlexNode{justify_main:Center}
        &quot;text&quot;
            TextLine{ text: &quot;Tabs education&quot; }
            TextLineColor(Hsla{ hue:60 saturation:0.55 lightness:0.55 alpha:1.0 })

    //Actual tab menu
    &quot;tab_menu&quot;
        GridNode{grid_auto_flow:Column}
        RadioGroup //Stores RadioButton State
        &quot;info&quot;
            RadioButton //New Radio Button Code
            FlexNode{justify_main:Center}
            Multi&lt;Animated&lt;BackgroundColor&gt;&gt;[
                {
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.15 alpha:0.5 }
                    hover:Hsla{ hue:24 saturation:0.5 lightness:0.50 alpha:1.0 }

                }
                {
                    state:[Selected]
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                }
            ]
            Multi&lt;Animated&lt;NodeShadow&gt;&gt;[
                {
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 1px,
                        blur_radius: 1px,
                    }

                }
                {
                    state:[Selected]
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 10px,
                        blur_radius: 10px,
                    }
                }
            ]  

            &quot;text&quot;
                TextLine{ text: &quot;Info&quot; }
                TextLineColor(Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 })
            
        &quot;exit&quot;
            FlexNode{justify_main:Center}
            RadioButton //New Radio Button Code
            Multi&lt;Animated&lt;BackgroundColor&gt;&gt;[
                {
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.15 alpha:0.5 }
                    hover:Hsla{ hue:24 saturation:0.5 lightness:0.50 alpha:1.0 }

                }
                {
                    state:[Selected]
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                }
            ]  
            Multi&lt;Animated&lt;NodeShadow&gt;&gt;[
                {
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 1px,
                        blur_radius: 1px,
                    }

                }
                {
                    state:[Selected]
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 10px,
                        blur_radius: 10px,
                    }
                }
            ]  
            &quot;text&quot;
                TextLine{ text: &quot;Exit button&quot; }
                TextLineColor(Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 })

    //This is what changes based on menu selection
    &quot;tab_content&quot;
        GridNode{ height:25vh }
        BackgroundColor(Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 })

    &quot;footer_content&quot;
            FlexNode{justify_main:Center}
            &quot;text&quot;
                TextLine{ text: &quot;I don't change&quot; }
                TextLineColor(Hsla{hue:0 saturation:0.00 lightness:0.85 alpha:1.0})
        


//tab content that will be spawned at runtime

&quot;info_tab&quot;
    FlexNode{justify_main:Center}
    &quot;text&quot;
        TextLine{text:&quot;You are in the info tab&quot;}

&quot;exit_tab&quot;
    //Not implemented
    FlexNode{justify_main:Center}
    &quot;text&quot;
        TextLine{text:&quot;Click me to quit&quot;}
</code></pre>
<p>Next bit of styling I want to add is textline change colour on hover.</p>
<pre><code>    //Actual tab menu
    &quot;tab_menu&quot;
        GridNode{grid_auto_flow:Column}
        RadioGroup //Stores RadioButton State
        &quot;info&quot;
            RadioButton //New Radio Button Code
            FlexNode{justify_main:Center}
            Multi&lt;Animated&lt;BackgroundColor&gt;&gt;[
                {
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.15 alpha:0.5 }
                    hover:Hsla{ hue:24 saturation:0.5 lightness:0.50 alpha:1.0 }

                }
                {
                    state:[Selected]
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                }
            ]
            Multi&lt;Animated&lt;NodeShadow&gt;&gt;[
                {
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 1px,
                        blur_radius: 1px,
                    }

                }
                {
                    state:[Selected]
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 10px,
                        blur_radius: 10px,
                    }
                }
            ]  

            &quot;text&quot;
                TextLine{ text: &quot;Info&quot; }
                Multi&lt;Animated&lt;TextLineColor&gt;&gt;[
                    {
                        idle:Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 }
                        hover:Hsla{ hue:221 saturation:0.0 lightness:1.0 alpha:1.0 }
                    }
                    {
                        state:[Selected]
                        idle:#FFFF00
                    }
                ]  

            
        &quot;exit&quot;
            FlexNode{justify_main:Center}
            RadioButton //New Radio Button Code
            Multi&lt;Animated&lt;BackgroundColor&gt;&gt;[
                {
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.15 alpha:0.5 }
                    hover:Hsla{ hue:24 saturation:0.5 lightness:0.50 alpha:1.0 }

                }
                {
                    state:[Selected]
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                }
            ]  
            Multi&lt;Animated&lt;NodeShadow&gt;&gt;[
                {
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 1px,
                        blur_radius: 1px,
                    }

                }
                {
                    state:[Selected]
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 10px,
                        blur_radius: 10px,
                    }
                }
            ]  
            &quot;text&quot;
                TextLine{ text: &quot;Exit button&quot; }
                Multi&lt;Animated&lt;TextLineColor&gt;&gt;[
                    {
                        idle:Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 }
                        hover:Hsla{ hue:221 saturation:0.0 lightness:1.0 alpha:1.0 }
                    }
                    {
                        state:[Selected]
                        idle:#FFFF00
                    }
                ]  
</code></pre>
<p>We have a problem the text only changes colour when you hover on the text directly, but we want it to be for the entire node.</p>
<p>This is a completely unforseen situation that I did not just invent for an example!</p>
<h4 id="controlgroup"><a class="header" href="#controlgroup">ControlGroup</a></h4>
<p><code>ControlMember</code> reads state information from the <code>ControlRoot</code></p>
<pre><code>    //Actual tab menu
    &quot;tab_menu&quot;
        GridNode{grid_auto_flow:Column}
        RadioGroup //Stores RadioButton State
        &quot;info&quot;
            RadioButton //New Radio Button Code
            FlexNode{justify_main:Center}
            ControlRoot
            Multi&lt;Animated&lt;BackgroundColor&gt;&gt;[
                {
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.15 alpha:0.5 }
                    hover:Hsla{ hue:24 saturation:0.5 lightness:0.50 alpha:1.0 }

                }
                {
                    state:[Selected]
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                }
            ]
            Multi&lt;Animated&lt;NodeShadow&gt;&gt;[
                {
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 1px,
                        blur_radius: 1px,
                    }

                }
                {
                    state:[Selected]
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 10px,
                        blur_radius: 10px,
                    }
                }
            ]  

            &quot;text&quot;
                TextLine{ text: &quot;Info&quot; }
                ControlMember
                Multi&lt;Animated&lt;TextLineColor&gt;&gt;[
                    {
                        idle:Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 }
                        hover:Hsla{ hue:221 saturation:0.0 lightness:1.0 alpha:1.0 }
                    }
                    {
                        state:[Selected]
                        idle:#FFFF00
                    }
                ]  

            
        &quot;exit&quot;
            FlexNode{justify_main:Center}
            RadioButton //New Radio Button Code
            ControlRoot // &lt;-- New control root
            Multi&lt;Animated&lt;BackgroundColor&gt;&gt;[
                {
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.15 alpha:0.5 }
                    hover:Hsla{ hue:24 saturation:0.5 lightness:0.50 alpha:1.0 }

                }
                {
                    state:[Selected]
                    idle:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                }
            ]  
            Multi&lt;Animated&lt;NodeShadow&gt;&gt;[
                {
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 1px,
                        blur_radius: 1px,
                    }

                }
                {
                    state:[Selected]
                    idle:{
                        color:Hsla{ hue:221 saturation:0.5 lightness:0.20 alpha:0.5 }
                        x_offset: 0px,
                        y_offset: 0px,
                        spread_radius: 10px,
                        blur_radius: 10px,
                    }
                }
            ]  
            &quot;text&quot;
                ControlMember
                TextLine{ text: &quot;Exit button&quot; }
                Multi&lt;Animated&lt;TextLineColor&gt;&gt;[
                    {
                        idle:Hsla{ hue:60 saturation:0.85 lightness:0.90 alpha:1.0 }
                        hover:Hsla{ hue:221 saturation:0.0 lightness:1.0 alpha:1.0 }
                    }
                    {
                        state:[Selected]
                        idle:#FFFF00
                    }
                ]  
</code></pre>
<h2 id="abstractions-default-selection-and-cleanup"><a class="header" href="#abstractions-default-selection-and-cleanup">Abstractions default selection and cleanup</a></h2>
<p>Next chapter we will introduce new abstractions to make our COB code more managable.</p>
<p>we will also handle default state</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="quick_notes.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="tabs_cleanup.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="quick_notes.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="tabs_cleanup.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
